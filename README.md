# **CBR_regression : 粗出生率之迴歸分析**

## **專題介紹**
本專案是針對台灣南部地區2000~2020年南部地區的粗出生(CBR)率進行簡單的迴歸分析，主要會從感興趣的變數中找出與CBR最相關的變數進行分析，最終再去提升模型解釋力以及檢查是否有符合線性迴歸的假設。

---

## **變數介紹**
目標變數為粗出生率(‰)(CBR)，其餘變數為就業者之年齡別結構-25-44歲(％)(ER)、犯罪人口率(人/十萬人)(CR)、青壯年人口比率(15-64歲)(％)(YAR)、	低收入戶人口數占總人口比率(％)(LOWR)。

---

## **研究方法(midterm)** 

### 1. **線性迴歸模型**  
- 四個變數只有CR不顯著(4個解釋變數全放的模型)  
- 模型解釋力(adj.R-squared)為0.5589  
- 拿掉CR的模型解釋力為0.5569(相差不大)  
- 最終模型的解釋變數為ER、YAR、LOWR 

### 2. **檢查共線姓**
ER、YAR、LOWR三者的VIF值都較小，沒有共線性的問題。

### 3. **Diagnostics**
- 判斷誤差是否等於常數
- 變數是否與反應變數有非線性關係
- 誤差是否為常態分佈
- 此模型有符合以上三個條件

---

## **研究方法(final)**
目標:
- 提升模型解釋力(原本R-squared只有0.5569)  
- 處理模型沒有滿足假設的問題

### 1. **變數篩選**
- 增加2000 ~ 2009年的資料(原本只有2010 ~ 2020)
- 再加入新變數平均每人居住面積(坪)(AR)、家庭收支-平均消費傾向(％)(DM)、失業率(％)(UR)
- 利用forward selection的方法，指標為AIC，最終從8個變數篩選出AR、YAR、DM、UR

### 2. **線性迴歸模型**  
- 以AR、YAR、DM、UR為解釋變數建立模型  
- 模型解釋力(adj.R-squared)提升為0.7216
- 變數沒有共線性問題

### 3. **非線性關係**
- 透過圖可以發現YAR、UR有非線性關係
- 加入YAR、UR平方向，解釋力上升為0.7922
- 加入YAR、UR交互向，解釋力上升為0.8124

### 4. **模型假設**
- 利用residual plot發現違反差等於常數這個假設
- 處理方法 :  
  - 方法1 : WLSE，weight = 1/$\hat{y}^2$   
  - 方法2 : variance-stabilizing = $y'= \sqrt y$    
- 最終選擇方法二，原因是因為其解釋力沒有下降太多(0.8106)

---

## **結語**
1. 好的變數篩選與增加變數非線性關係對模型解釋力是有明顯的提升。
2. 此資料中，variance-stabilizing相對WLSE好。
3. 最終的模型的R-squared為0.8106，相對一開始的0.55提升很大。

---  

## **結構**
CBR_regression  
│── README.md    
│── CBR_main.pdf # 書面報告(期中/期末)   
│── CBR_code.ipynb # 程式碼(期中/期末)    
│── CBR_reort.pdf  # 簡報(期中/期末)  
│── CBR_data.xlsx #原始資料集  
│── CBR_data_intro.xlsx #變數介紹  